from flask import Flask, render_template, request, redirect, url_for

lista_produtos = [
        { "nome": "Coca-cola", "descricao": "Bom", "preco": 9.99, "imagem": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxARERAQEhEWEhATFRAQEhgXERIWFRMQFhYWFxYWFRUYHSkgGBonGxYWITEjJikrLi4vGB8zODMtNygtLisBCgoKDg0OGxAQGzAlHyUtLS4tLS0tLS0tLS0tLy0tLS0tLS0uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABQMEBgcIAgH/xABFEAABAwIDAwcICAUBCQAAAAABAAIDBBEFEiEGMVEHEyJBYXGBFCMygpGhscEzNVJicpKiswgVQnPRUyQlNENUo8PS8P/EABsBAQADAQEBAQAAAAAAAAAAAAADBAUCAQYH/8QAOhEBAAICAAQDBQYEAwkAAAAAAAECAxEEEiExBVFhEyJBcZEUMjOBscE0QqHRFWLwIyQ1Q1KCksLh/9oADAMBAAIRAxEAPwDeKAgICAgICAgICAgIIraivfT0k80ds7GgtuLi5IG7xUWe80xzaFrgcNc3EUx37TPVrvaDa+uYG83PlNnk+bjPo5d12/eWbficvTUvqeB8I4S8zz131j4z8d/2QA27xS9vKjvt9FD/AOi5jisvm1LeBeH8u4x/1n+7O+T3aepq5XRzODxzDZQcjWnNmAPo9WoVzhc9rzMWfM+M+G4OGxxfFGvemO/oz1XXzwgICAgICAgICAgICAgICAgICAgICAgICDHdv5A2gnJ3eaGptvkYFX4rfsp00PCtfa6TM67/AKS1XtC0kNytL7h98oc62fLfcPuhZtsV+nuy+u4Di8FZnmyRHWPj5IE00t781Je+b6Ny59lfylpf4hwmtRlr9Wc8kzx5XYOBvSu67kWkYLK3wlLVvO4+D5zx3Pjy8NHJaJ9/4Tv4S22tF8kICAgICAgICAgICAgICAgICAgICAgICAgjtoaOKanlbLG2RrWukAcAcr2tJDhfcRxQYTsdspQy4dQ1E1LDLNJDC975IWPc4loOrnC6PYnSWl2Uw6xAoadunVTxf4R7zSstgMFhhq8SaGMPMy0/MHK28QfTNzhmnQuS64G+6OWfICAgICAgICAgICAgICAgICAgICAgICAgIIPbirMWHVr2+nzErI+2V7SyMeLnNCCphVFzFHTQf6cUMf5WgIG7MDwQQ2zoMeK17DungpKhnaY88Unxj9qDMUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEGuuVPauGmloaN2pfIyqkG8CKJ3QzDteLj+2V5L2I281nKREWtDbDUX0vpfq1UGTNyLOPh4t8UJtByllg8yASW9bR6Wvb3arz7Rvs6+yxHeUFTcprm1dHUS5bMcYpCG2PMSWDt2+3pd7Qpa2mUN6Vhv5jgQCDcHUdoUiF9QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEEfj+MQ0VPNVTOyxRNLjxJ3Na3i4kgDtKDl+vxKfEauatm0c89FtyWxsGjGN7APaSSuZl3Wsy+kFzZOxzWjw3qllvHxaGHHMLGeE311C4paEt6TCNqKc+A3dyuUvEqGXHMN9ch22vlMP8und/tNO3zRJ1lpxoB2uZoO7L2qZXmNNqo8EBAQEBAQEBAQEBAQEBAQEBAQEBAQEHPXLBtU7EKwUEDiaWmdZ9jpLU7ie0N1aO3MeC4vblhLixzeVpQ4SI4+4a96zs3Eahq4OG6q8+GhkMQtq7M8+1Zs55lpVwxCMqaMcF3TKWxdFg6g96sRnmFW+CJWTXTUU8NXAcssTw9p6tN4PEEXBHArQw5oszeI4aaxuHUGye0MOIUsVXCei8Wc0745Bo9ju0H2ix61bZ6YQEBAQEBAQEBAQEBAQEBAQEBAQEBBhnKztScOw+SRhtUTHyeDiHuBu/wBVoJ78vFBpTYTBrnnHaloBP43C4v3NIPrLP4nI1+Ex6hmVZEA0DiQFkcTfUNXhqbst8dsHRt+zG32nVVq71C1jje59UHWHoqfH3LVWMko5truDrHxCsRX3pj0QT93ahPZ7SOI071Ni3WVbLEWrKe5E9pDSV5onu8xV+jfc2oA6BHDMOj2nJwWxSdwwc9OWduh12riAgICAgICAgICAgICAgICAgICAg535Z8UNbjEVED5qlDWnhzjgJJD+XKPVK5tOod443ZL7Nw5KdjrWMl5T2Bxu0eDco8Fm5o3LXwzqr5iVSM8beJPwssrPWZ22uDiOsozaGtHlEo6mkM/KAF1GNPi1GOEFWVwta6nx4Z25vaIRbqzzUreDmuCuRi9+ss6ckcl48pWUGIlT+yUfb7Uq6RzHtlY4tcxzZGOG9puHNI7Q7T1VYoo5Z5tw602XxcVlHTVY056NjyPsvt02+DrjwUqmlEBAQEBAQEBAQEBAQEBAQEBAQEBByA6uPltdNOCyWQ1dxa5bK9zs3s1XNklI+LNm7XU+UNYH2AAHR6hpxVDJEtXDXfZG1lY6WSORps1pF76G1wqk8sb22sGK/L0W+JUU8kkjxaznvcOl1EkheUzYohZ+zZdREIufDZx9n8wViubGr5OFzen1RUkbwXtPAX1VuJrMRLHvjyVteJWIuFP3Z2rQv3SB0YH9QGU6dQJLfe4+xednmpmXQfIFNIcKyPbZsc87Ij9phyvJHruePBdxO4QXjVphsheuBAQEBAQEBAQEBAQEBAQEBAQEBBz1tRhsH8zrSYmXM0rj0Rq5xuT4kn2rKy5bxkmN9H6B4f4fwt+Cx3tjiZmOs6Vhh8IYPNMGn2GrybTLqODwRbpSFnPgkjsuSLQ7rFoBuMw6+C5mmSeyembgscTFtfSfktn4HLYOMQILgwdJh6Rdly2vvubd645ckJvb8Fe3L03rfae3f9Oqodk5rZvJ2lpIAIfEQbi+/Nusd+5d8mdX+1eGTOp1v5T/AGUJdlZf+mG8j/lnUNLiN/AFdRGf1RWy+Fz8K/SfkjDhkTX5HRMBBLSMrTqN689rkidTKSOA4K9eauOup9EliWGwNjjtEwafYCTlv5mPw/hd/hx9G7OSuIMwulDQAPPGw3ayvK0cEzOOJl8V4tjpj4y9aRqOn6QyxTM4QEBAQEBAQEBAQEBAQEBAQEBAQaF2p+s6z+475LGzfjWfpnhf/DsXy/d6J6C9+B/Mia2rlaW5ZHiwsLPcLDs1UVr2j4reLhsNondI+i28pkO97juAu52lrW+A9i55rT3lNHD4q9qx9Hp+ITkk89Je9/pH7xuO/ek5L+byOC4fX3I+kKL6+bXz0mup84/W3iuovbzQ34TBH8kfSFFsjnvDnOLnaakknQWGpXu5mermKVpXVY1CUxf0Gd3+F7Zzi7y3LyZ/VlL3SfuPWpw/4cPgPGf43J8/2ZQp2YICAgICAgICAgICAgICAgICAgINC7VfWdX/AHHfALHzfjS/SvC514bjmfL+6edQ08GSCezpi3POXOfkgblLuba1hBfKQOs2BI0KsclK+7bv+jHnieIz7y4ulInVe27TvW532rtg1dqW91yqN4fV4bREdVu0rmEs2h9YwucGtBc4kAAC5JO4ALyImZ08tkrSs2tOohkJwSCmB8pOeYND3sDiI4WG1s5bq956mgi/G3SVyMNaff6z+j5rJ4ln4q3+7+7TeonXW0+m+kRHxnU/sox+Qc86B8Rg3Bsole7m3loJDwTawcSL9nivf9lzcsxr1cT9vjFGal+fzrqI3Hp6pHaDBGw04fIRcbnZiMx/ojYzeSRZziRoDYag36yYYrXcvOF8Svnz8uOOnl5eczPp2jz+jZPJp9WUndJ+49XOH/Dh814x/G5Pn+zJ1MzBAQEBAQEBAQEBAQEBAQEBAQEBBp5sDXY5UyP1jgdNVP7REy4/VlWZEb4iZn4dX3Fslq+DY6V731WPzn+y+opcsccji5tVWOdUF7Rd0cDZAco1H0hBGnFo7FLWem57z1/JRz13aaV1OPHHLrtu0x3/AO3v+UvD2c3UnC6dudzo3iok9EGd4F3PAveKNjjZl7EkA8V5vV/Z1j5/69HfXJw8cdmnURMcsf5Y+Eetp7z81SOqFPDKaYWibmpKQaXqKkAmapfxDQ02J0AB3L2J5azy9u0es/GUdsc8RmrGefen3r/5a/y0j5+XyWOETyQ0UdZMA9zQYaGMM1L33BeRvc9xBN99g77S5xzNcfPb8k3GY6Z+MnhcM6ieuS0z8I+HpEfrryY5MKiFxbNBzlRM8SsJeHHnhcdJjb5nDPcNNrX1BBsoPfr0tHWWpP2bNXmw5OWlI1PTXT0mfPXf4vOCYS9tTnnbmETefcA5r+cfchjLg2LjICLcWkLvFinn3b4dUHG8djnh4phnXNPLHTWo+M/Tt81xtPSSmNlQ8AtdqXZm3e95JzBt75SWmx6wy68y0trmlL4fmwxecNe/l5RHw35+frLa3Jp9WUndJ+49X+H/AA4fI+MfxuT5/sydTMwQEBAQEBAQEBAQEBAQEBAQEBAKDT1UCcQxsDVxp6m1usB0RcB6oKzf+bf5Pt6TEcDwkz254/8AbSm3GJZG0jY4Q51O2BvRaXOlETg5gdYXDbi9uOvC3ntbTrUdnVuBxYrZLZL65+bv0iObvr1/ZN0/8wbNPVR4YAydrszTUND3SG3SLib2Fj0QBvPWpo9pEzaKd/VmZI4K2KmG/Edaz0nlnUR6evrP6MS2ix2WRsNI6nFIY2iJ+hByki4aD6LCWgnfewuSquXNadU1pueH+HYqTfiYye031j5+vnP6eTJdrK/yWppI2QmTmoXCmYPRMziIxcDflY07utw3b1bz35L1iI7R0+bD8L4b7Vw+W9rxHNb35+PLHX+somCN8EHPMHO1TpHQMdbM0TPJdM+/AWyZt3QJ3FcViaV5o6z2/P4ps9qcRxHsrTy44iLTHaeWI1WPz769fR9pKcSMhiiGWKeSTnSLm9NEXBwBOoDnE23np967iu6xFe09/lCtkyTjy3vlndqRHLH+a3b/AMY/RQ25c/mIC8FrpHGoLbWDWuGSJnZkjaARxkUXETPLG2l4Py+2ty9YiOXf9Zn85/pDY/Jp9WUndJ+49W+H/Dh874x/G5Pn+zJ1MzBAQEBAQEBAQEBAQEBAQEBAQEBBonaCqkixWqkjeWPbK+zhvGlj3jsWPltNc0zD9H4DBjzeGY6ZI3Ex+5VV0sjenI5194vZv5W2aPYk3tPeXWLhcOOfdrH6z9Z6o6PGammzthldG2RtnBp7d4+y7quNVx7W9Puys38P4biZi2WkTMT/AK35wtKvFJ5mhssjpcvol5zObxs8627L2XFslrR73VYxcDhw25sVeXziO0/l2Xs21Na6IQmY5QMt8rQ8ttaxfbNu7detdzxOSa8u1WngvB0yTkinXy3Ovp2R/wDOKgQeTCQiE3u0AC4O8F2+3Z2pXLfl5N9HWTgOHnP9omvvef8A8KLG6lgjYyUtazNkADdM177xrvO/dfRd1y3iIiJVs3h3DZLWvekTM63+S+x6ulkYzPIXdFjNbei3Vo/+3ry97W7y64bhcWKZ5K67z+ctv8mZ/wB2UvdJ+49afD/hw+H8Z/jcn5fpDKFMzBAQEBAQEBAQEBAQEBAQEBAQEAoOacR2ijqcQrJI2udHzszmuFrOjDrB3cdD4rNz4J5ptvu+z8N8apXhq4ZpPuxrfRkHkExaLRk6Dh/lVZtENGvHY5lCYxC+Mtzsc2+m7eVHuLz0aGHjMeka+cN0LXA/gK6im/jH1dzx+OPP6KZq28HfkcvfYz5x9XP+J4vKfo8Oq27rO/KuoxShv4ji3rU/R5ZU6ghjz6q69n6wrW8Rx/8ATP0XuKYo3IzoO0Fz6PHvXcYub4q9vFseP+Wf6f3bn5G8TZPhcWXfG+aJ462uzlwB9VzT4rSxU5aRD43xDiIz8RbJEa2zhSKYgICAgICAgICAgICAgICAgICAg48xamNPW1sIu3m5qmMbxo17gPdZcXWMUsio62Ugedf+d3+VjZoiJfS8NO4hSxF8hdG4vcSHNtcnivMOtTHov2idRrzWeIMfzjyXG+Yned5U2O0TWHmXHbfdYyB3E+0qaJhVvW3mt2k3dqdBxUk61CnE25rdVAyu4n2lSahUte3m91EhIaLnr6+OnyXdY1CpeZtZ0PyDUYjwlr+uaaokPbZ3N/8AjUsdlO/3pbFXrgQEBAQEBAQEBAQEBAQEBAQEBAQcv8rtJzWN1X2ZOZlHc6Nod+oOXF+yfD30tsIF2M7gsfielpfScF1pC7xGKwYfvs+Kgw26z8pa9q9I+cGLQecf3pgv7kJcld9UXNCrVbK96dFgIvpPBWObszOTreViWqbbNvV9m39w+V/mu/gra97bqnk2pOawrD2WsTBHIfxSDnD73KdnzO5ZKjwQEBAQEBAQEBAQEBAQEBAQEBAQc+fxDUmTEaSb/UgDPWjkd8nhc27JMU+8gNnWXb3OcP1G3uWHx06s+q8OjdPzTGL0/m+4tPvVHh7++2+XcPOJwXffsHwXuG+qu4jcIuenVql3F6I1sWkw4FvwVqbfdZvL99GPi1VmLMnLVbStLiQ0XJu1o6yb2Cnj4M+/Ssy7IoqcRRxxD0WMZGO5oAHwU7OVkBAQEBAQEBAQEBAQEBAQEBAQEBBpr+JGkvDh89vQlliJ/G0OA/7ZXkuqfeYTskLh34mn2sb87r5/xHvD67wztKfxdnmnLN4effhs0l8q2XI/C34L2kpcfZYVESnpZ7ZDNj/4j8TR7ldm33fkzNff+aKlZqrVJZOaFTY+lM2I0Edr5qmmJH3Q8Pf7gVep3ZGbpSXWymUBAQEBAQEBAQEBAQEBAQEBAQEBAQaw/iGY04XHfeKqEs/FklB9xcvJdV7w1vskywvxaw+N3D5BfPeIzv8Aq+v8OjUJvHJg2FxPArO4WszkhqxbliZlQrKkDJ2sYfcpKY+/zS47RELOWqClrjl7bJCNLwOd7Xg/pVrX3fkozMat81m+DMTYa2PwKmrbUqGXFMwkOS+EDG6AO+3UEd7YZbe8LTxTtgcZXVYdOqdniAgICAgICAgICAgICAgICAgICAg0ry8YoJp6PD265P8AaZfxuuyMd9s59YKHNflqvcDg9pfc9oWWz+Htax/YRGPVHS/UXDwWPljnl9Dj9ysRCH23OVjWjrcAueFxRXJMrF8kzTXrCz2ieWShg/ojhae/I0n4r3DSNTvzS+06dEWZ3KaKQc8vM0/TB6iB8LLqtPdQXt7yRw5wLmk7ri/d1qvfcJYjamJXUlTBVs1dBM2Ww/qAdeRnj02q7gy6tDL43hItjnXfe3T1JUsljZKw5o3ta9hG4scAQfYVpPmVZAQEBAQEBAQEBAQEBAQEBAQEBAQcxSYkarFKupk3maYtH3Y7sjb+VrR4KhxU6lveGV3j1HdllLWxxxNZmuQLuPFx1cfEkrP54mWtOGzFtpKjnZIWjW7wPaQPmpsUd3GSJrraPx2ua+pmcNQXkNt1tHRFvALqtOkPZvrosZKi43LqKad86k5/w+ak0gtZdUVTayhyU2lx5EjicjXRufxsfX3EfP1iuccdoMto1Lc/ItiLpsKiDtTC+WAH7rXXaPBrgPBa9Oz5HPr2k6Z2ukQgICAgICAgICAgICAgICAgICAUHKWzTPOPc70s0l++5usrjbdX1HhNY5GQTvHFUI7tuY6ITE3K1jjqq3siXvVmIU736vJevdEXU164l6a+y8mNuZvpXqKu8JHWHBKY+qHLm6N0/wAPBP8ALqi+7yuTL3c1De3jdXq9mDl+9LaS6RiAgICAgICAgICAgICAgICAgICDmTamgNBilZBuaZDPF2xS9MW7rlvqlUOLx76t/wAJz691FzVJJ3qrXHEQ3b5pidPGfO3tGh711NeWUMXi9fVHzA3U9ZU8teqmAV1KOsTD042C8iNy9vkisLUEm5PgpukdFSvNaJtP5KL3mxHUu4VbzPxdQ8kGEmlwmla4WfKHVLtLfSnM0HtyZQpYZ1p3LM168EBAQEBAQEBAQEBAQEBAQEBAQEGouXzZ4uihxKNt3QeZnsNeYcbtcexryR6/YuL05o0n4fNOK22kzXX1uq3sdNmeNi0d1xS1jdbnX4hcWxz2S04ms9d9XuZ4OvUuKxronteJja1dKFLFVW2WIeY3NdcuNmt39p6gu9TWOndBW1clvenUR/X0UZKkE9i9imnl+Ji09EzsLs8cSroKUA82Tzk5H9MDSC/XqJ0aO1wUtYUc2SJjo61Y0AAAWAsABuAG4KRTekBAQEBAQEBAQEBAQEBAQEBAQEHlwPUgjcTpJJWPj6Ja8Fjmubma5pFiCOsELyXsaadxLkNc57nRTc2CbhuXMG9gu69u8o66Lak5G6qFwf5uct1Ae3o37W317jovHcWhRxPk2xN73uFO2zjmsxzGtBO/K24sO7iq+TFbe6tLhuMxRXkyT+aKm5K8VJ6MHtkj+RXVIv8AGHmfLg/ktv8AJPDkurJYY4H08UeS9pBbnSSSSXOB6Wp3G9uqyl1LPm0PEHIXOTd1SAOAj19t/kvXEzDZGwuxAwxjmxFuZ9jI8tu99twLuoDXQaar1zMwzOMHrXrlUQEBAQEBAQEBAQEBAQEBAQEBAQEBB8QEBAQfQgICAgICAgICAgICAgIP/9k="},
        { "nome": "Doritos", "descricao": "Suja mão", "preco": 13.00, "imagem": "https://images.app.goo.gl/3EfQYcwYgj853ccW9"},
        { "nome": "Chocolate", "descricao": "Bom!", "preco": 2.99, "imagem": "https://images.app.goo.gl/qEPTKpjWm5bsa3Md7"},
    ]

app = Flask(__name__)

@app.route("/")
def home():
    return render_template("home.html")


@app.route("/contato")
def contato():
    return "<h1>Contato</h1>"

@app.route("/produtos")
def produtos():
    return render_template('produtos.html', produtos=lista_produtos)

@app.route("/produtos/<nome>")
def produto(nome):
    for produto in lista_produtos:
        if produto['nome'] == nome:
            return render_template("produto.html", produto=produto)
    
    return "Produto não existe!"

# GET
@app.route("/produtos/cadastro")
def cadastro_produto():
    return render_template("cadastro-produto.html")

# POST
@app.route("/produtos", methods=['POST'])
def salvar_produto():
    nome = request.form['nome']
    descricao = request.form['descricao']
    preco = request.form['preco']
    imagem = request.form['imagem']
    produto = {"nome": nome, "descricao": descricao, "preco": preco, "imagem": imagem}
    lista_produtos.append(produto)

    return redirect(url_for("produtos"))

app.run(port=5001)